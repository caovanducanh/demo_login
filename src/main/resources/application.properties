# =================================
# Application Configuration
# =================================
spring.config.import=optional:env[.env]
spring.application.name=${SPRING_APPLICATION_NAME:demo}
server.port=${PORT:8080}

# =================================
# Database Configuration
# =================================
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO}
spring.jpa.properties.hibernate.dialect=${SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT}
spring.main.allow-circular-references=true

# =================================
# Security Configuration
# =================================
jwt.secret=${JWT_SECRET}
jwt.expiration.ms=${JWT_EXPIRATION_MS}
jwt.refresh.expiration.ms=${JWT_REFRESH_EXPIRATION_MS}

# =================================
# Email Configuration
# =================================
spring.mail.host=${SPRING_MAIL_HOST}
spring.mail.port=${SPRING_MAIL_PORT}
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH}
spring.mail.properties.mail.smtp.starttls.enable=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE}

# =================================
# OAuth2 Configuration
# =================================
# Google
spring.security.oauth2.client.registration.google.client-id=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_SCOPE}
spring.security.oauth2.client.registration.google.redirect-uri=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_REDIRECT_URI}

# Facebook
spring.security.oauth2.client.registration.facebook.client-id=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_FACEBOOK_CLIENT_ID}
spring.security.oauth2.client.registration.facebook.client-secret=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_FACEBOOK_CLIENT_SECRET}
spring.security.oauth2.client.registration.facebook.scope=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_FACEBOOK_SCOPE}
spring.security.oauth2.client.registration.facebook.redirect-uri=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_FACEBOOK_REDIRECT_URI}
spring.security.oauth2.client.provider.facebook.token-uri=${SPRING_SECURITY_OAUTH2_CLIENT_PROVIDER_FACEBOOK_TOKEN_URI}
spring.security.oauth2.client.provider.facebook.user-info-uri=${SPRING_SECURITY_OAUTH2_CLIENT_PROVIDER_FACEBOOK_USER_INFO_URI}
spring.security.oauth2.client.provider.facebook.authorization-uri=${SPRING_SECURITY_OAUTH2_CLIENT_PROVIDER_FACEBOOK_AUTHORIZATION_URI}

# =================================
# Frontend Configuration
# =================================
frontend.base-url=${FRONTEND_BASE_URL:http://localhost:3000}
frontend.url.base=${FRONTEND_BASE_URL:http://localhost:3000}

# =================================
# Actuator Configuration
# =================================
management.endpoints.web.base-path=${ACTUATOR_BASE_PATH:/actuator}
management.endpoints.web.exposure.include=${ACTUATOR_EXPOSURE:health,info,metrics,loggers}
management.endpoint.health.show-details=${ACTUATOR_HEALTH_DETAILS:always}

# =================================
# LOGGING CONFIGURATION (CLEAN, LIGHT PRODUCTION)
# =================================

# Root logger level
logging.level.root=INFO

# Spring Framework general logging level
logging.level.org.springframework=INFO

# Spring Security logging level
logging.level.org.springframework.security=INFO

# Spring JDBC logging level
logging.level.org.springframework.jdbc=INFO

# Reduce request mapping handler logs from DEBUG to INFO to reduce verbosity
logging.level.org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping=INFO

# Keep DispatcherServlet logs at INFO (omit verbose init logs)
logging.level.org.springframework.web.servlet.DispatcherServlet=INFO

# Your application package logging level, keep DEBUG for detailed app logs
logging.level.com.example.demologin=DEBUG

# Hibernate SQL logging at INFO level (turn off heavy DEBUG logs)
logging.level.org.hibernate.SQL=INFO
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=INFO

# Reduce verbose logs from HttpEntityMethodProcessor by setting to WARN
logging.level.org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor=WARN

# Reduce log level for Tomcat cookie parser errors to WARN to avoid log pollution
logging.level.org.apache.tomcat.util.http.parser.Cookie=WARN

# Console log pattern with color coding
logging.pattern.console=%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID}){magenta} %clr(---){faint} %clr([%thread]){faint} %clr(%logger{36}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}

# Enable ANSI colors in console output
spring.output.ansi.enabled=ALWAYS

